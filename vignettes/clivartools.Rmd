---
title: "Using CLIVARtools"
author: "Brett Longworth"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Using clivartools}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

This vignette serves as a brief introduction to the clivartools package.

## Installing

The package should be installed from github. You'll need the `devtools` package
installed.

```{r, eval=FALSE}
devtools::install_github("blongworth/amstools")
```

To interact with the NOSAMS DB, you'll need your credentials in an environment
variable called CONSTRING, which should be in the following format:

```
"DSN=database;UID=username;PWD=password"
```

The database also has to be set up as an ODBC connection.

## Getting started

First, load the library.

```{r}
library(clivartools)
```

## What cruises and stations are available?

Use getCruises and getStations to find what data to work with.

```{r}
cruises <- getCruises()
cruises[1:5]

stations <- getStations(cruises[5])
stations[1:5]
```

## Get data from a profile

Use `getProfile` to get data for a profile. If `station` or `cruise` are vectors, `getProfile` will get data from all cruises/stations requested. If `station` is not given, all profiles from a cruise or cruises are returned.

```{r}
data <- getProfile("A16S", 51)
head(data)
```

## Plot a profile

```{r}
plotProfile(data)
```
